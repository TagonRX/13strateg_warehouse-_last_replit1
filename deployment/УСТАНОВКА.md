# üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Warehouse Management System –Ω–∞ Ubuntu Server

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Ubuntu Server 20.04 / 22.04 / 24.04
- –ú–∏–Ω–∏–º—É–º 4GB RAM (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 8GB)
- 20GB —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞ –Ω–∞ –¥–∏—Å–∫–µ
- –ü—Ä–∞–≤–∞ root (sudo)

## üì¶ –ë—ã—Å—Ç—Ä–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ (5 —à–∞–≥–æ–≤)

### 1Ô∏è‚É£ –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä

```bash
# –ù–∞ –≤–∞—à–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ:
scp -r /–ø—É—Ç—å/–∫/–ø—Ä–æ–µ–∫—Ç—É user@server-ip:/home/user/warehouse

# –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ USB —Ñ–ª–µ—à–∫—É, SFTP, –∏ —Ç.–¥.
```

### 2Ô∏è‚É£ –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É deployment

```bash
cd /home/user/warehouse/deployment
```

### 3Ô∏è‚É£ –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç—ã –ø–æ –ø–æ—Ä—è–¥–∫—É

```bash
# –°–∫—Ä–∏–ø—Ç 1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Node.js –∏ PostgreSQL
sudo bash 1-install-dependencies.sh

# –°–∫—Ä–∏–ø—Ç 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
sudo bash 2-setup-database.sh

# –°–∫—Ä–∏–ø—Ç 3: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
sudo bash 3-install-app.sh

# –°–∫—Ä–∏–ø—Ç 4: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞
sudo bash 4-setup-service.sh

# –°–∫—Ä–∏–ø—Ç 5: –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
sudo bash 5-start.sh
```

### 4Ô∏è‚É£ –û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä

```
http://IP-–ê–î–†–ï–°-–°–ï–†–í–ï–†–ê:5000
```

### 5Ô∏è‚É£ –í–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É

```
–õ–æ–≥–∏–Ω:  admin
–ü–∞—Ä–æ–ª—å: admin123
```

**‚ö†Ô∏è –í–ê–ñ–ù–û:** –°–º–µ–Ω–∏—Ç–µ –ø–∞—Ä–æ–ª—å –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –≤—Ö–æ–¥–∞!

---

## üéØ –ß—Ç–æ –¥–µ–ª–∞–µ—Ç –∫–∞–∂–¥—ã–π —Å–∫—Ä–∏–ø—Ç

| –°–∫—Ä–∏–ø—Ç | –û–ø–∏—Å–∞–Ω–∏–µ | –í—Ä–µ–º—è |
|--------|----------|-------|
| `1-install-dependencies.sh` | –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç Node.js 20 –∏ PostgreSQL 16 | ~3-5 –º–∏–Ω |
| `2-setup-database.sh` | –°–æ–∑–¥–∞–µ—Ç –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è | ~30 —Å–µ–∫ |
| `3-install-app.sh` | –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ | ~5-10 –º–∏–Ω |
| `4-setup-service.sh` | –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ | ~10 —Å–µ–∫ |
| `5-start.sh` | –ó–∞–ø—É—Å–∫–∞–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ | ~5 —Å–µ–∫ |

**–û–±—â–µ–µ –≤—Ä–µ–º—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏: ~10-20 –º–∏–Ω—É—Ç**

---

## üîß –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–æ–º

### –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç—É—Å–∞
```bash
sudo systemctl status warehouse
```

### –û—Å—Ç–∞–Ω–æ–≤–∫–∞
```bash
sudo systemctl stop warehouse
```

### –ó–∞–ø—É—Å–∫
```bash
sudo systemctl start warehouse
```

### –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
```bash
sudo systemctl restart warehouse
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
```bash
sudo journalctl -u warehouse -f
```

### –û—Ç–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫
```bash
sudo systemctl disable warehouse
```

---

## üìÅ –í–∞–∂–Ω—ã–µ —Ñ–∞–π–ª—ã –∏ –ø–∞–ø–∫–∏

```
/opt/warehouse/                      # –ì–ª–∞–≤–Ω–∞—è –ø–∞–ø–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ warehouse.env                    # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ (–ø–∞—Ä–æ–ª–∏ –ë–î)
‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îú‚îÄ‚îÄ inventory_sync.csv          # CSV –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
‚îÇ   ‚îî‚îÄ‚îÄ arhiv/                      # –ê—Ä—Ö–∏–≤ –∏–∑–º–µ–Ω–µ–Ω–∏–π
‚îú‚îÄ‚îÄ server/                         # Backend –∫–æ–¥
‚îú‚îÄ‚îÄ client/                         # Frontend –∫–æ–¥
‚îî‚îÄ‚îÄ package.json                    # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```

---

## üîê –§–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

–í—Å–µ –ø–∞—Ä–æ–ª–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤:
```
/opt/warehouse/warehouse.env
```

**‚ö†Ô∏è –ù–ï –£–î–ê–õ–Ø–ô–¢–ï —ç—Ç–æ—Ç —Ñ–∞–π–ª!**

–°–æ–¥–µ—Ä–∂–∏–º–æ–µ:
- `DATABASE_URL` - —Å—Ç—Ä–æ–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ PostgreSQL
- `SESSION_SECRET` - —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á –¥–ª—è —Å–µ—Å—Å–∏–π
- `PGPASSWORD` - –ø–∞—Ä–æ–ª—å –æ—Ç –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

---

## üåê –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –∏–∑ —Å–µ—Ç–∏

### –£–∑–Ω–∞—Ç—å IP –∞–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞:
```bash
hostname -I
```

### –û—Ç–∫—Ä—ã—Ç—å –ø–æ—Ä—Ç –≤ firewall (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è):
```bash
sudo ufw allow 5000/tcp
sudo ufw reload
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–∞:
–° –ª—é–±–æ–≥–æ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞ –≤ —Å–µ—Ç–∏ –æ—Ç–∫—Ä–æ–π—Ç–µ:
```
http://IP-–°–ï–†–í–ï–†–ê:5000
```

---

## üìä –§–∞–π–ª–æ–≤–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è

–î–ª—è –º–∞—Å—Å–æ–≤–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–æ–≤:

1. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª:
```bash
sudo nano /opt/warehouse/data/inventory_sync.csv
```

2. –§–æ—Ä–º–∞—Ç CSV:
```csv
productId;name;sku;location;quantity;barcode;price;length;width;height;weight
PROD-001;–¢–æ–≤–∞—Ä 1;SKU001;A100;10;BAR001;150;50;30;20;5
```

3. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∏–∑ —Ñ–∞–π–ª–∞" –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏

4. –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –∞—Ä—Ö–∏–≤:
```
/opt/warehouse/data/arhiv/YYYY-MM-DD_HH-MM-SS.csv
```

---

## üÜò –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:
```bash
sudo journalctl -u warehouse -n 50
```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ PostgreSQL:
```bash
sudo systemctl status postgresql
```

3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—Ä—Ç 5000:
```bash
sudo netstat -tulpn | grep 5000
```

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è

1. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ PostgreSQL:
```bash
sudo systemctl restart postgresql
```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤:
```bash
sudo cat /opt/warehouse/warehouse.env
```

### –ó–∞–±—ã–ª–∏ –ø–∞—Ä–æ–ª—å admin

1. –°–±—Ä–æ—Å–∏—Ç—å –ø–∞—Ä–æ–ª—å –Ω–∞ `admin123`:
```bash
sudo -u postgres psql warehouse_db << 'EOF'
UPDATE users 
SET password = '$2b$10$rGwZ8VqF5vP3yX2kH4oN6.KJ7Hy8QmL9fVwE0nC5mXrT1uY4pB3sG'
WHERE login = 'admin';
EOF
```

---

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

1. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å–µ—Ä–≤–∏—Å:
```bash
sudo systemctl stop warehouse
```

2. –°–¥–µ–ª–∞–π—Ç–µ —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é:
```bash
sudo cp -r /opt/warehouse /opt/warehouse.backup
```

3. –ó–∞–º–µ–Ω–∏—Ç–µ —Ñ–∞–π–ª—ã –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–µ–π

4. –û–±–Ω–æ–≤–∏—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö:
```bash
cd /opt/warehouse
source warehouse.env
npm run db:push
```

5. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å:
```bash
sudo systemctl start warehouse
```

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
1. –õ–æ–≥–∏ —Å–µ—Ä–≤–∏—Å–∞: `sudo journalctl -u warehouse -f`
2. –°—Ç–∞—Ç—É—Å PostgreSQL: `sudo systemctl status postgresql`
3. –°–≤–æ–±–æ–¥–Ω–æ–µ –º–µ—Å—Ç–æ: `df -h`
4. –ü–∞–º—è—Ç—å: `free -h`

---

**–£—Å–ø–µ—à–Ω–æ–π —Ä–∞–±–æ—Ç—ã! üéâ**
