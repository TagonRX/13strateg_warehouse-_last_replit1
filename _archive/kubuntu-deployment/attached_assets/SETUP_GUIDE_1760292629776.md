# Инструкция по настройке складской системы

## Шаг 1: Создание первого администратора

1. Откройте приложение в браузере
2. Перейдите на страницу регистрации (login.html)
3. Зарегистрируйтесь с ролью "Администратор"
4. После регистрации ваш аккаунт будет в статусе "Ожидает подтверждения"

## Шаг 2: Подтверждение администратора в базе данных

Так как первый администратор не может подтвердить сам себя, нужно сделать это через Supabase:

1. Откройте Supabase Dashboard
2. Перейдите в Table Editor → workers
3. Найдите свою запись (по email)
4. Измените поле `approved` на `true`
5. Теперь вы можете войти в систему как администратор

## Шаг 3: Функции системы

### Для работников:
- **Приход (Индивидуальный)** - Добавление товаров поштучно
- **Приход (Массовый)** - Загрузка CSV файлов (до 2000 строк)
- **Сборка по Локациям** - Списание товара
- **Daily Picking List** - Работа с листами подбора
- **Инвентаризация** - Просмотр остатков
- **Загрузка Склада** - Просмотр по локациям

### Дополнительно для администратора:
- **SKU Errors** - Исправление конфликтов при загрузке
- **Аналитика Работников** - Статистика по дням/неделям/месяцам
- **Логи Событий** - Полная история операций
- **Управление Пользователями** - Подтверждение новых работников

## Формат CSV для массовой загрузки

```
ID_товара,Название,SKU,Количество,Штрихкод
PROD001,Товар 1,ABC123,10,1234567890
PROD002,Товар 2,XYZ789,5,0987654321
```

## Логика работы с SKU

- Если `product_id` уже существует с таким же `SKU` → количество обновляется
- Если `product_id` существует, но `SKU` отличается → создается запись в "SKU Errors"
- Если `product_id` новый → создается новая запись в инвентаре

## Локации

Формат локаций: `A101`, `A101-J`, `A101-K` и т.д.

- Базовая локация: `A101`
- Подлокации с буквами: `A101-J`, `A101-K`
- Если в одной локации 4+ SKU → подсветка красным

## Безопасность

- Все действия логируются
- Каждый работник видит свою статистику
- Админ видит всё
- Удаление всего склада требует пароль: `DELETE_ALL_STOCK`

## Аналитика

Система автоматически собирает статистику:
- Количество принятых товаров за день
- Количество собранных товаров
- Количество ошибок при загрузке
