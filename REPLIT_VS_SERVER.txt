╔══════════════════════════════════════════════════════════════════════════════╗
║                                                                              ║
║                  ВАЖНО: REPLIT VS STANDALONE СЕРВЕР                          ║
║                                                                              ║
╚══════════════════════════════════════════════════════════════════════════════╝

🎯 ДВЕ РАЗНЫЕ СИТУАЦИИ

┌──────────────────────────────────────────────────────────────────────────────┐
│                                                                              │
│  1️⃣  РАЗРАБОТКА НА REPLIT (ВЫ ЗДЕСЬ СЕЙЧАС)                                 │
│                                                                              │
│  ✅ Приложение УЖЕ РАБОТАЕТ!                                                │
│     • Через workflow "Start application"                                    │
│     • Режим: npm run dev (автоперезагрузка)                                 │
│     • База данных: Replit PostgreSQL                                        │
│     • Секреты: Берутся автоматически                                        │
│                                                                              │
│  ✅ ЧТО ДЕЛАТЬ:                                                             │
│     • Просто откройте URL проекта                                           │
│     • Или нажмите "Open website"                                            │
│     • НЕ НУЖНО запускать скрипты 1-5                                        │
│     • НЕ НУЖНО запускать start.sh production                                │
│                                                                              │
└──────────────────────────────────────────────────────────────────────────────┘

┌──────────────────────────────────────────────────────────────────────────────┐
│                                                                              │
│  2️⃣  УСТАНОВКА НА KUBUNTU 25.10 СЕРВЕР                                      │
│                                                                              │
│  📥 ПОДГОТОВКА:                                                             │
│     1. Скопируйте проект на сервер                                          │
│     2. Перейдите в папку проекта                                            │
│                                                                              │
│  🔹 УСТАНОВКА (5 кликов):                                                   │
│     ./1-install-node.sh        ← Node.js 20                                 │
│     ./2-install-postgres.sh    ← PostgreSQL                                 │
│     ./3-setup-database.sh      ← База данных + .env файл                    │
│     ./4-install-app.sh         ← Сборка приложения                          │
│     ./5-run-server.sh          ← Запуск (работает постоянно)                │
│                                                                              │
│  ✅ РЕЗУЛЬТАТ:                                                              │
│     • PM2 запущен с правильным .env                                         │
│     • Сервер работает постоянно                                             │
│     • Автозапуск при перезагрузке                                           │
│                                                                              │
└──────────────────────────────────────────────────────────────────────────────┘

═══════════════════════════════════════════════════════════════════════════════

❌ ЧАСТЫЕ ОШИБКИ

┌──────────────────────────────────────────────────────────────────────────────┐
│                                                                              │
│  ОШИБКА: Запуск ./start.sh production на Replit                             │
│                                                                              │
│  ПРОБЛЕМА:                                                                   │
│  • PM2 не может получить DATABASE_URL из Replit секретов                    │
│  • Приложение уже работает через workflow                                   │
│  • Конфликт портов                                                          │
│                                                                              │
│  РЕШЕНИЕ:                                                                    │
│  • НЕ запускайте start.sh на Replit                                         │
│  • Используйте уже работающий workflow                                      │
│                                                                              │
└──────────────────────────────────────────────────────────────────────────────┘

┌──────────────────────────────────────────────────────────────────────────────┐
│                                                                              │
│  ОШИБКА: "DATABASE_URL must be set"                                         │
│                                                                              │
│  ПРИЧИНА:                                                                    │
│  • Файл .env не создан или пустой                                           │
│  • PM2 запущен без правильных переменных окружения                          │
│                                                                              │
│  РЕШЕНИЕ НА KUBUNTU:                                                        │
│  • Запустите ./3-setup-database.sh (создаст .env)                           │
│  • Затем ./5-run-server.sh                                                  │
│                                                                              │
│  РЕШЕНИЕ НА REPLIT:                                                         │
│  • Просто используйте workflow (уже работает!)                              │
│                                                                              │
└──────────────────────────────────────────────────────────────────────────────┘

═══════════════════════════════════════════════════════════════════════════════

📋 КРАТКАЯ СПРАВКА

┏━━━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━┓
┃   ЧТО                  ┃   REPLIT               ┃   KUBUNTU СЕРВЕР      ┃
┣━━━━━━━━━━━━━━━━━━━━━━━━╋━━━━━━━━━━━━━━━━━━━━━━━━╋━━━━━━━━━━━━━━━━━━━━━━━┫
┃ Запуск                 ┃ Автоматически          ┃ ./5-run-server.sh     ┃
┃ База данных            ┃ Replit PostgreSQL      ┃ Своя PostgreSQL       ┃
┃ Секреты                ┃ Replit Secrets         ┃ .env файл             ┃
┃ Режим                  ┃ Development            ┃ Production            ┃
┃ Автоперезагрузка       ┃ Да (Vite)              ┃ Нет (PM2)             ┃
┃ Установка              ┃ Не нужна               ┃ Скрипты 1-5           ┃
┗━━━━━━━━━━━━━━━━━━━━━━━━┻━━━━━━━━━━━━━━━━━━━━━━━━┻━━━━━━━━━━━━━━━━━━━━━━━┛

═══════════════════════════════════════════════════════════════════════════════

💡 РЕКОМЕНДАЦИИ

НА REPLIT:
  ✅ Просто откройте URL проекта
  ✅ Workflow "Start application" - это и есть ваш сервер
  ✅ Изменения в коде перезагружаются автоматически

НА KUBUNTU СЕРВЕРЕ:
  ✅ Следуйте инструкции в УСТАНОВКА_KUBUNTU.txt
  ✅ Запускайте скрипты 1-2-3-4-5 по очереди
  ✅ Не пропускайте скрипт 3 (он создаёт .env)

═══════════════════════════════════════════════════════════════════════════════

🎯 ИТОГ

┌──────────────────────────────────────────────────────────────────────────────┐
│                                                                              │
│  ЕСЛИ ВЫ НА REPLIT:                                                         │
│  → Приложение УЖЕ работает!                                                 │
│  → Откройте URL проекта                                                     │
│  → Ничего устанавливать не нужно                                            │
│                                                                              │
│  ЕСЛИ ВЫ НА KUBUNTU СЕРВЕРЕ:                                                │
│  → Используйте скрипты 1-5                                                  │
│  → Читайте УСТАНОВКА_KUBUNTU.txt                                            │
│  → Следуйте инструкциям шаг за шагом                                        │
│                                                                              │
└──────────────────────────────────────────────────────────────────────────────┘

═══════════════════════════════════════════════════════════════════════════════
